{% extends "master.html" %}

{% block content %}


<head>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css" integrity="sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk" crossorigin="anonymous">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta charset="utf-8">
         <title>Code Editor</title>
       <script src="https://cdnjs.cloudflare.com/ajax/libs/ace/1.4.12/ace.js"></script>
       <script src="https://cdnjs.cloudflare.com/ajax/libs/ace/1.4.12/mode-c_cpp.js"></script>
       <script src="https://cdnjs.cloudflare.com/ajax/libs/ace/1.4.12/mode-java.js"></script>
       <script src="https://cdnjs.cloudflare.com/ajax/libs/ace/1.4.12/mode-python.js"></script>
       <script src="https://cdnjs.cloudflare.com/ajax/libs/ace/1.4.12/theme-monokai.js"></script>
<!--       <style>-->
<!--        .editor-container {-->
<!--        width: 1000px;-->
<!--        height: 80vh;-->
<!--        margin-left: 5px;-->
<!--        margin-top: 30px;-->
<!--        position: relative;-->
<!--      }-->
<!--        #editor {-->
<!--        position: absolute;-->
<!--        left: 0;-->
<!--        right: 0;-->
<!--        top: 0;-->
<!--        bottom: 0;-->
<!--        height: 100%;-->
<!--        width: 100%;-->
<!--        font-size: 20px;-->
<!--      }-->
<!--       </style>-->
      </head>
      <body>
      <br>
      <form method="post">
    {% csrf_token %}

          <label for="language" style=" margin-left: 10px"><h3><strong>Language:</strong></h3></label>
    <select id="language" name="language" style=" margin-left: 10px">
      <option value="python3">Python 3</option>
      <option value="java">Java</option>
      <option value="c">C</option>
      <option value="cpp">C++</option>

    </select><br>
    <label for="code" style=" margin-left: 10px"><h3><strong>Code:</strong></h3></label><br>
    <textarea id="code" name="code" rows="20" cols="100" style=" margin-left: 10px"></textarea><br><br>

    <label for="test_cases" style=" margin-left: 10px"><h3><strong>Test Case:</strong></h3></label><br>
    <textarea id="test_cases" name="test_cases[]" rows="2" cols="30" style=" margin-left: 10px"></textarea><br><br>
    <input type="submit" value="Compile and Run" class="btn btn-primary" style=" margin-left: 750px ;margin-top: -110px;">
  </form>

  <div id="output" style=" margin-left: 880px ;margin-top: -650px;">
    {% if output %}
      <h3><strong>Output:</strong></h3>
      <pre>
        {% for line in output %}
          {{ line }}
        {% endfor %}
      </pre>
      <p>Memory: {{ memory }} bytes</p>
      <p>CPU Time: {{ cpuTime }} seconds</p>
    {% endif %}
  </div>
  <script>

    $(document).ready(function() {
      $('form').on('submit', function(event) {
        event.preventDefault();
        $.ajax({
          url: $(this).attr('action'),
          type: 'POST',
          data: $(this).serialize(),
          success: function(response) {
            $('#output').html(response);
          }
        });
      });
    });
  </script>
    </body>
{% endblock %}